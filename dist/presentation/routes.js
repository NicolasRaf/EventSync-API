"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.routes = void 0;
const express_1 = require("express");
const CreateUserController_1 = require("../modules/users/useCases/createUser/CreateUserController");
const AuthenticateUserController_1 = require("../modules/users/useCases/authenticateUser/AuthenticateUserController");
const ensureAuthenticated_1 = require("./middlewares/ensureAuthenticated");
const CreateEventController_1 = require("../modules/events/useCases/createEvent/CreateEventController");
const ListEventsController_1 = require("../modules/events/useCases/listEvents/ListEventsController");
const CreateRegistrationController_1 = require("../modules/events/useCases/createRegistration/CreateRegistrationController");
const PerformCheckInController_1 = require("../modules/events/useCases/performCheckIn/PerformCheckInController");
const ListUserRegistrationsController_1 = require("../modules/events/useCases/listUserRegistrations/ListUserRegistrationsController");
const ListEventRegistrationsController_1 = require("../modules/events/useCases/listEventRegistrations/ListEventRegistrationsController");
const CancelRegistrationController_1 = require("../modules/events/useCases/cancelRegistration/CancelRegistrationController");
const GetEventDetailsController_1 = require("../modules/events/useCases/getEventDetails/GetEventDetailsController");
const GetUserProfileController_1 = require("../modules/users/useCases/getUserProfile/GetUserProfileController");
const SendFriendRequestController_1 = require("../modules/social/useCases/sendFriendRequest/SendFriendRequestController");
const ListFriendRequestsController_1 = require("../modules/social/useCases/listFriendRequests/ListFriendRequestsController");
const ListFriendsController_1 = require("../modules/social/useCases/listFriends/ListFriendsController");
const RespondFriendRequestController_1 = require("../modules/social/useCases/respondFriendRequest/RespondFriendRequestController");
const SendMessageController_1 = require("../modules/messages/useCases/sendMessage/SendMessageController");
const ListUserMessagesController_1 = require("../modules/messages/useCases/listUserMessages/ListUserMessagesController");
const ApproveRegistrationController_1 = require("../modules/events/useCases/approveRegistration/ApproveRegistrationController");
const RejectRegistrationController_1 = require("../modules/events/useCases/rejectRegistration/RejectRegistrationController");
const CreateReviewController_1 = require("../modules/events/useCases/createReview/CreateReviewController");
const routes = (0, express_1.Router)();
exports.routes = routes;
const createUserController = new CreateUserController_1.CreateUserController();
const authenticateUserController = new AuthenticateUserController_1.AuthenticateUserController();
const createEventController = new CreateEventController_1.CreateEventController();
const listEventsController = new ListEventsController_1.ListEventsController();
const createRegistrationController = new CreateRegistrationController_1.CreateRegistrationController();
const performCheckInController = new PerformCheckInController_1.PerformCheckInController();
const listUserRegistrationsController = new ListUserRegistrationsController_1.ListUserRegistrationsController();
const cancelRegistrationController = new CancelRegistrationController_1.CancelRegistrationController();
const listEventRegistrationsController = new ListEventRegistrationsController_1.ListEventRegistrationsController();
const getEventDetailsController = new GetEventDetailsController_1.GetEventDetailsController();
const sendFriendRequestController = new SendFriendRequestController_1.SendFriendRequestController();
const getUserProfileController = new GetUserProfileController_1.GetUserProfileController();
const listFriendRequestsController = new ListFriendRequestsController_1.ListFriendRequestsController();
const listFriendsController = new ListFriendsController_1.ListFriendsController();
const respondFriendRequestController = new RespondFriendRequestController_1.RespondFriendRequestController();
const sendMessageController = new SendMessageController_1.SendMessageController();
const listUserMessagesController = new ListUserMessagesController_1.ListUserMessagesController();
const approveRegistrationController = new ApproveRegistrationController_1.ApproveRegistrationController();
const rejectRegistrationController = new RejectRegistrationController_1.RejectRegistrationController();
const createReviewController = new CreateReviewController_1.CreateReviewController();
routes.get('/health', (req, res) => {
    res.json({ status: 'ok', message: 'EventSync API is running' });
});
routes.post('/users', createUserController.handle);
routes.post('/sessions', authenticateUserController.handle);
routes.get('/events', listEventsController.handle);
routes.get('/profile', ensureAuthenticated_1.ensureAuthenticated, getUserProfileController.handle);
routes.post('/events', ensureAuthenticated_1.ensureAuthenticated, createEventController.handle);
routes.post('/events/:eventId/registrations', ensureAuthenticated_1.ensureAuthenticated, createRegistrationController.handle);
routes.post('/events/:eventId/check-in', ensureAuthenticated_1.ensureAuthenticated, performCheckInController.handle);
routes.post('/events/:eventId/check-in', ensureAuthenticated_1.ensureAuthenticated, performCheckInController.handle);
routes.get('/registrations', ensureAuthenticated_1.ensureAuthenticated, listUserRegistrationsController.handle);
routes.delete('/registrations/:id', ensureAuthenticated_1.ensureAuthenticated, cancelRegistrationController.handle);
routes.get('/events/:eventId/registrations', ensureAuthenticated_1.ensureAuthenticated, listEventRegistrationsController.handle);
routes.get('/events/:eventId', ensureAuthenticated_1.ensureAuthenticated, getEventDetailsController.handle);
// Social Routes
routes.post('/users/:id/friend-request', ensureAuthenticated_1.ensureAuthenticated, sendFriendRequestController.handle);
routes.get('/friends/requests', ensureAuthenticated_1.ensureAuthenticated, listFriendRequestsController.handle);
routes.get('/friends', ensureAuthenticated_1.ensureAuthenticated, listFriendsController.handle);
routes.put('/friends/requests/:requestId', ensureAuthenticated_1.ensureAuthenticated, respondFriendRequestController.handle);
// Messages Routes
routes.post('/messages', ensureAuthenticated_1.ensureAuthenticated, sendMessageController.handle);
routes.get('/messages', ensureAuthenticated_1.ensureAuthenticated, listUserMessagesController.handle);
// Registration Management Routes
routes.patch('/registrations/:id/approve', ensureAuthenticated_1.ensureAuthenticated, approveRegistrationController.handle);
routes.patch('/registrations/:id/reject', ensureAuthenticated_1.ensureAuthenticated, rejectRegistrationController.handle);
// Review Routes
routes.post('/events/:eventId/reviews', ensureAuthenticated_1.ensureAuthenticated, createReviewController.handle);
